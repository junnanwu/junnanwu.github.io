#  Vim

Vim提供了不同的模式，相同按键在不同模式下的功能是不一样的。

## 普通模式

`c`命令

删除指定的文本并切换到插入模式

`h` `j` `k` `l`光标键

`f{char}`跳到当前行的某个字符上



### 重复命令

`.`命令意味着重复上次修改。

每次进入插入模式时， 也会形成一次修改。从进入插入模式的那一刻起(例如，输入`i`)，直到返回普通模式时为止(输入`<Esc>`)，Vim会记录每一个按键操作。做出这样一个修改后再用`.`命令的话，它将会重新执行所有这些按键操作。

## 可视模式

Vim有三种不同的可视模式，分别应用于：

**操作字符文本**

该模式适用于操作单词或短语。

`v`激活面向字符的可视模式

**行文本**

`V`激活面向字符的可视模式

**块文本**

`Ctrl+v`激活面向列块的可视模式

- `gv`重选上次的高亮区域
- `o`切换高亮的端点



列编辑

例如每一行前面添加`--`

- `Ctrl+v`
- `GG`跳到最后一行
- `shift+i`进行插入
- 键入`--`
- `Esc`即可









vim编辑器有两种操作模式：

- 普通模式

  在普通模式下，vim会将按键解释为命令。

  普通模式下有个特别的功能叫做命令行模式，提供一个交互式命令行，可以输入额外的命令来控制vim的行为。

  要进入命令行模式，在普通模式下按下`:`

- 插入模式

- 可视模式

**vim基础**

移动光标：

- 整页翻页

  `Ctrl+F`  (F就是forword) 或 `PageDown`

  `Ctrl-B`  (B就是backward) 或 `PageUp`

- 翻半页

  `ctrl-d`  d就是down

  `ctlr-u`  u就是up

- 移到缓冲区的最后一行

  `G`

- 移到缓冲区的第num行

  `num G`

- 移到缓冲区的第一行

  `gg`

- H (high) 光标移到屏幕顶端

  `H`

- M (middle) 光标移动道屏幕中央

  `M`

- L (low) 光标移动到屏幕底端

  `L`

保存文件：

- 放弃所有修改

  `:e!`

- 如果未修改缓冲区数据，退出

  `:q`

- 放弃所有修改并推出

  `:q!`

**编辑数据**

vim如何删除一行或者多行内容

- 删除当前光标所在位置的字符

  `x`

  删除光标当前位置开始的两个字符

  `2x`

- 删除当前光标所在位置的单词

  `dw`

- 删除当前光标所在位置至行尾的内容

  `d$`

- 删除单行

  `dd`

  删除从光标当前所在行开始的5行

  `5dd`

- 撤销前一编辑命令

  `u`

- 删除所有

  `:1,$d`

- 删除以#开头的注释内容 

  `:g/^#/d`

- 删除所有空行

  `:g/^$/d`

- 删除从第3行到第5行

  `:3,5d`

**列编辑**

- `Ctrl+v`进入列块可视模式
- 移动光标选择要编辑的块
- `c`进入插入模式
- `Esc`返回普通模式

**复制和粘贴**

- 允许粘贴

  `:set paste`

- 剪切粘贴

  可以使用`dd`命令来删除一行文本，然后把光标移动到要粘贴的位置，然后用`p`将文本插入到当前行之后。

- 复制粘贴

  `yw` 复制一个单词，`y$`表示复制到行尾，复制以后，使用`p`进行粘贴。

- 可视复制

  - 先将光标移到想复制的开始位置
  - 按下`v`键，然后移动光标
  - 按下`y`，激活复制命令，现在寄存器中已经有了要复制的文本
  - 光标移到到你想放置的位置，按下`p`

**查找和替换**

- 查找

  输入`/+要搜索的词`，然后使用`n`键选取下一个

- 替换

  - `:s/old/new/`

    vim编辑器会跳到old第一次出现的地方，并用new来替换。

  - `:s/old/new/g:`

    替换所有old。

**其他**

- 开启行号

  ` :set nu`

- 关闭行号

  `:set nonu`

- 关闭搜索高亮

  ` :noh` 或 `:nohlsearch`
  
- 开启搜索高亮

  `:set hlsearch`



## References

- Vim使用技巧(Drew Neil)